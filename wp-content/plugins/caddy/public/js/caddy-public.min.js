!function(c){"use strict";var t=c(".cc-window");function a(t=""){c.ajax({type:"post",url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(a){var e=a.fragments;if(e&&c.each(e,(function(t,a){c(t).replaceWith(a)})),new Tabby("[data-tabs]").toggle("#cc-cart"),"yes"==t&&c(".cc-window-wrapper").hide(),"move_to_cart"===t&&(c(".cc_cart_from_sfl").removeClass("cc_hide_btn"),c(".cc_cart_from_sfl").parent().find(".cc-loader").hide(),c(".cc-coupon .woocommerce-notices-wrapper").remove(),c(".cc-cart").removeAttr("hidden")),"no"===a.flatsome_product_redirect)return!1}})}jQuery(document).ready((function(c){setTimeout((function(){a()}),200),c(".cc-nav ul li a").mousedown((function(){c(this).addClass("using-mouse")})),c("body").keydown((function(){c(".cc-nav ul li a").removeClass("using-mouse")}));var e=new Tabby("[data-tabs]");c(document).mouseup((function(a){var e=c(".cc-window.visible, .cc-compass, #toast-container");e.is(a.target)||0!==e.has(a.target).length||t.hasClass("visible")&&(c(".cc-compass").toggleClass("cc-compass-open"),c("body").toggleClass("cc-window-open"),c(".cc-overlay").hide(),t.animate({right:"-1000px"},"slow").removeClass("visible"),c("#toast-container").length>0&&c("#toast-container").animate({right:"25px"},"fast").toggleClass("cc-toast-open"))})),c(document).on("click",".cc-compass",(function(){c(this).toggleClass("cc-compass-open"),c("body").toggleClass("cc-window-open"),t.hasClass("visible")?(c(".cc-overlay").hide(),t.animate({right:"-1000px"},"slow").removeClass("visible")):(c(".cc-overlay").show(),e.toggle("#cc-cart"),t.animate({right:"0"},"slow").addClass("visible"))})),c(document).on("click",".ccicon-x",(function(){c(".cc-overlay").hide(),t.animate({right:"-1000px"},"slow").removeClass("visible"),c(".cc-compass").toggleClass("cc-compass-open"),c("body").toggleClass("cc-window-open")})),c(document).on("click","a.remove_from_sfl_button",(function(){i(c(this))})),c("body").on("added_to_cart",(function(a,e,o,n){var s=c(".cc-compass-desk-notice").val(),i=c(".cc-compass-mobile-notice").val();cc_ajax_script.is_mobile&&!t.hasClass("visible")&&"mob_disable_notices"===i?setTimeout((function(){c(".cc-compass").trigger("click")}),20):cc_ajax_script.is_mobile||t.hasClass("visible")||"desk_disable_notices"!==s&&"desk_notices_caddy_window"!==s&&""!==s||setTimeout((function(){c(".cc-compass").trigger("click")}),20)})),c(document).on("click",".single_add_to_cart_button",(function(t){if(t.preventDefault(),!c(this).hasClass("disabled")){if(!(c(this).hasClass("product_type_variable")||c(this).hasClass("product_type_bundle")||c(this).hasClass("product_type_external"))){var e=c(this),o=e.closest("form.cart").serializeArray(),n=!1;if(c.each(o,(function(c,t){if(("productID"===t.name||"add-to-cart"===t.name)&&t.value)return n=!0,!1})),!n)var s=c(this).data("product_id");if(e.attr("name")&&"add-to-cart"==e.attr("name")&&e.attr("value"))s=e.attr("value");return s&&o.push({name:"add-to-cart",value:s}),o.push({name:"action",value:"cc_add_to_cart"}),c(document.body).trigger("adding_to_cart",[e,o]),c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_add_to_cart"),data:c.param(o),beforeSend:function(t){c("#cc-cart").css("opacity","0.3"),c(".cc-compass").find(".licon").hide(),c(".cc-compass").find(".cc-loader").show(),c("form.cart").length>0&&e.removeClass("added").addClass("loading")},success:function(t){t.error&&t.product_url?window.location.reload():e.hasClass("add_to_cart_button")||(a(),c(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e]))},complete:function(t){c(".cc-compass").find(".cc-loader").hide(),c(".cc-compass").find(".licon").show(),c("form.cart").length>0&&e.addClass("added").removeClass("loading"),c("#cc-cart").css("opacity","1")}}),!1}var i=c(this).attr("href");window.location=i}})),c(document).on("click",".cc-pl-info .cc-pl-actions .cc-view-cart",(function(){e.toggle("#cc-cart")})),c(document).on("click",".cc_item_quantity_update",(function(){o(c(this))})),c(document).on("click",".save_for_later_btn",(function(){n(c(this))})),c(document).on("click",".cc_cart_from_sfl",(function(){s(c(this))})),c(document).on("click",".cc_back_to_cart",(function(){r()})),c(document).on("click",".added_to_cart.wc-forward, .woocommerce-error .button.wc-forward",(function(c){c.preventDefault(),l()})),c(document).on("click",".cc_saved_items_list",(function(){d()})),c(document).on("click",".cc_cart_items_list",(function(){l()})),c(document).on("click",".cc-view-saved-items",(function(){new Tabby("[data-tabs]").toggle("#cc-saves")})),c(".variations_form").length>0&&(c(".cc_add_product_to_sfl").addClass("disabled"),c(this).each((function(){c(this).on("found_variation",(function(t,a){c(".cc_add_product_to_sfl").removeClass("disabled")})),c(this).on("reset_data",(function(){c(".cc_add_product_to_sfl").addClass("disabled")}))}))),c(document).on("submit","#apply_coupon_form",(function(c){c.preventDefault(),_()})),c(document).on("click",".cc-applied-coupon .cc-remove-coupon",(function(){u(c(this))})),c(document).on("click",".cc-nav ul li a",(function(){"cc-cart"===c(this).attr("data-id")&&c(".cc-pl-upsells-slider").resize()}))})),c(window).load((function(){c(".cc-compass .cc-compass-count").show()}));var e=!0;function o(t){if(e){e=!1,c(".cc-notice").hide();var a=c(t).parents(".cc-cart-product-list"),o=c(a).find(".cc_item_quantity"),n=c(o).data("key"),s=c(o).data("product_id"),i=parseInt(c(o).val());"minus"==c(t).data("type")?i--:i++,i<1&&(i=1);var r={key:n,number:i,product_id:s,security:cc_ajax_script.nonce};c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_quantity_update"),data:r,beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments,n=t.qty_error_msg;a&&c.each(a,(function(t,a){c(t).replaceWith(a)})),n&&(c(".cc-notice").addClass("cc-error").show().html(n),setTimeout((function(){c(".cc-notice").removeClass("cc-error").html("").hide()}),2e3)),c(o).val(i),e=!0,new Tabby("[data-tabs]").toggle("#cc-cart")}})}}function n(t){var a=t.data("product_id"),e=t.data("cart_item_key"),o={security:cc_ajax_script.nonce,product_id:a,cart_item_key:e};c.ajax({type:"post",dataType:"json",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_save_for_later"),data:o,beforeSend:function(a){c("#cc-cart").css("opacity","0.3"),t.addClass("cc_hide_btn"),t.parent().find(".cc-loader").show()},complete:function(a){t.removeClass("cc_hide_btn"),t.parent().find(".cc-loader").hide(),c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments;a&&c.each(a,(function(t,a){c(t).replaceWith(a)})),new Tabby("[data-tabs]").toggle("#cc-saves")}})}function s(t){var e=t.data("product_id"),o={security:cc_ajax_script.nonce,product_id:e};c.ajax({type:"post",dataType:"json",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_move_to_cart"),data:o,beforeSend:function(c){t.addClass("cc_hide_btn"),t.parent().find(".cc-loader").show()},success:function(e){e.error?(t.removeClass("cc_hide_btn"),t.parent().find(".cc-loader").hide(),new Tabby("[data-tabs]").toggle("#cc-saves"),c(".cc-sfl-notice").show().html(e.error_message),setTimeout((function(){c(".cc-sfl-notice").html("").hide()}),2e3)):a("move_to_cart")}})}function i(t){var a=t.data("product_id"),e={nonce:cc_ajax_script.nonce,product_id:a};c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_remove_item_from_sfl"),data:e,beforeSend:function(t){c("#cc-saves").css("opacity","0.3")},complete:function(t){c("#cc-saves").css("opacity","1")},success:function(t){var a=t.fragments;a&&c.each(a,(function(t,a){c(t).replaceWith(a)}));var e=c("a.cc-sfl-btn.remove_from_sfl_button");e.has("i.ccicon-heart-filled")&&(e.find("i").removeClass("ccicon-heart-filled").addClass("ccicon-heart-empty"),e.find("span").text().length>0&&e.find("span").text("Save for later"),e.removeClass("remove_from_sfl_button").addClass("cc_add_product_to_sfl"));new Tabby("[data-tabs]").toggle("#cc-saves")}})}function r(){c(".cc-pl-info-container").hide(),c(".cc-window-wrapper").show()}function d(){c(".cc-compass").toggleClass("cc-compass-open"),c("body").toggleClass("cc-window-open"),c(".cc-pl-info-container").hide(),c(".cc-window-wrapper").show(),c(".cc-overlay").show(),new Tabby("[data-tabs]").toggle("#cc-saves"),t.animate({right:"0"},"slow").addClass("visible")}function l(){t.hasClass("visible")||c(".cc-compass").trigger("click")}function _(){var t=c(".cc-coupon-form #cc_coupon_code").val(),a={nonce:cc_ajax_script.nonce,coupon_code:t};c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_apply_coupon_to_cart"),data:a,beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments,e=t.caddy_cart_subtotal;a&&c.each(a,(function(t,a){c(t).replaceWith(a)})),c(".cc-total-amount").html(e),new Tabby("[data-tabs]").toggle("#cc-cart")}})}function u(t){var a=t.parent(".cc-applied-coupon").find(".cc_applied_code").text(),e={nonce:cc_ajax_script.nonce,coupon_code_to_remove:a};c.ajax({type:"post",url:cc_ajax_script.wc_ajax_url.toString().replace("%%endpoint%%","cc_remove_coupon_code"),data:e,beforeSend:function(t){c("#cc-cart").css("opacity","0.3")},complete:function(t){c("#cc-cart").css("opacity","1")},success:function(t){var a=t.fragments,e=t.free_shipping_title,o=t.free_shipping_meter,n=t.final_cart_subtotal;a&&c.each(a,(function(t,a){c(t).replaceWith(a)})),c(".cc-fs-title").html(e),c(".cc-fs-meter").html(o),c(".cc-total-amount").html(n),new Tabby("[data-tabs]").toggle("#cc-cart")}})}}(jQuery);